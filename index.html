<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Smart Surface and Shape Detector</title>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <header class="topbar" role="banner">
    <div class="brand">
      <div class="title">Smart Surface and Shape Detector</div>
      <div class="subtitle">A Scientific Analysis of Ultrasonic Wave Accuracy</div>
    </div>
  </header>

  <main class="page" role="main" aria-live="polite">
    <div class="left-col">
      <div class="card status-card" aria-label="Sensor status">
        <h3>Sensor Status</h3>
        <ul class="status-list" id="statusList">
          <li>Ultrasonic <span class="status-dot" id="dot-ultra" title="Ultrasonic status"></span></li>
          <li>Color Sensor <span class="status-dot" id="dot-color" title="Color sensor status"></span></li>
          <li>IR Temp <span class="status-dot" id="dot-temp" title="Temperature sensor status"></span></li>
          <li>Button <span class="status-dot" id="dot-btn" title="Button status"></span></li>
          <li>OLED <span class="status-dot" id="dot-oled" title="OLED status"></span></li>
          <li>Buzzer <span class="status-dot" id="dot-buzz" title="Buzzer status"></span></li>
        </ul>
      </div>

      <div class="card radar-card" aria-label="Radar visualization">
        <h3>Radar Visualization</h3>
        <canvas id="radarCanvas" width="480" height="420" aria-hidden="false"></canvas>
      </div>
    </div>

    <div class="center-col">
      <div class="card data-card">
        <h3>Live Data</h3>
        <div class="grid-live">
          <div class="live-item">
            <div class="label">Distance</div>
            <div class="value" id="live-distance">— cm</div>
          </div>
          <div class="live-item">
            <div class="label">Color</div>
            <div class="value" id="live-color">—</div>
          </div>
          <div class="live-item">
            <div class="label">Object Temp</div>
            <div class="value" id="live-obj">— °C</div>
          </div>
          <div class="live-item">
            <div class="label">Ambient Temp</div>
            <div class="value" id="live-amb">— °C</div>
          </div>
          <div class="live-item">
            <div class="label">Speed of Sound</div>
            <div class="value" id="live-speed">— m/s</div>
          </div>
          <div class="live-item">
            <div class="label">Accuracy</div>
            <div class="value" id="live-accuracy">— %</div>
          </div>
        </div>

        <div class="controls">
          <button class="big-btn" id="btn-distance">Measure Distance</button>
          <button class="big-btn" id="btn-shape">Detect Shape</button>
          <button class="big-btn" id="btn-material">Test Material</button>
          <button class="small-btn" id="btn-conclusion">Conclusion</button>
        </div>
      </div>

      <div class="card chart-card">
        <h3>Distance Readings (last 10)</h3>
        <canvas id="chartCanvas" aria-label="Distance readings chart"></canvas>
      </div>
    </div>
  </main>

  <!-- Conclusion Modal -->
  <div id="modalBackdrop" class="modal-backdrop" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modal-header">
        <h2 id="modalTitle">Conclusion</h2>
        <button id="modalClose" class="modal-close" aria-label="Close">✕</button>
      </div>
      <div class="modal-body" id="modalBody">
        <!-- dynamically filled -->
      </div>
      <div class="modal-footer">
        <button id="modalOk" class="modal-ok">Close</button>
      </div>
    </div>
  </div>

  <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
